{% extends "base.html" %}

{% block title %}qa #{{ index + 1 }} ~ physics-qa{% endblock %}

{% block content %}
<div class="qa-detail">
    <div class="qa-header">
        <h1>
            <span style="color: var(--accent-primary);">#{{ index + 1 }}</span>
            qa pair
        </h1>
        <div class="qa-nav">
            {% if index > 0 %}
            <a href="/qa/{{ index - 1 }}" class="btn btn-secondary">&larr; prev</a>
            {% endif %}
            <a href="/" class="btn btn-secondary">dashboard</a>
            {% if index < total - 1 %}
            <a href="/qa/{{ index + 1 }}" class="btn btn-secondary">next &rarr;</a>
            {% endif %}
        </div>
    </div>

    <section>
        <h2>question</h2>
        <div class="content-box query-box">
            {{ qa.query }}
        </div>
    </section>

    <section>
        <h2>answer</h2>
        <div class="content-box answer-box">
            {{ qa.response_answer }}
        </div>
    </section>

    <section>
        <h2>reasoning</h2>
        <div class="content-box reasoning-box">
            <pre>{{ qa.response_reasoning }}</pre>
        </div>
    </section>

    <section>
        <h2>rubric</h2>
        <div class="rubric-box">
            <div class="rubric-header">
                <span>correct_physics</span>
                <span>correct_answer</span>
                <span>sound_reasoning</span>
            </div>
            <table class="rubric-table">
                <tbody>
                    <tr>
                        <td style="width: 33%;">{{ qa.rubric.correct_physics }}</td>
                        <td style="width: 33%;">{{ qa.rubric.correct_answer }}</td>
                        <td style="width: 34%;">{{ qa.rubric.sound_reasoning }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>

    <section>
        <h2>raw json</h2>
        <details>
            <summary>click to expand</summary>
            <pre class="json-box">{{ qa | tojson(indent=2) }}</pre>
        </details>
    </section>
</div>
{% endblock %}
